!function(){function a(){return{pos:{x:0,y:0},mode:"moving"}}function b(){this.d=a()}b.prototype.init=function(){},b.prototype.controlReceiver=function(a,b){"dPad"==a&&$("#dev-data").html("x = "+b.x+" - y = "+b.y)},b.prototype.dPad=function(a){return this.controlDispatcher("dPad",a)},b.prototype.controlDispatcher=function(a,b){return this.controlReceiver(a,b)},window.Game=b}(),function(){function a(a){this.game=a,this.pos={x:0,y:0}}a.prototype=function(){function b(){var a=this;$(document).keydown(function(b){var c=b.which;return 38==c&&(a.pos.y=-1),39==c&&(a.pos.x=1),40==c&&(a.pos.y=1),37==c&&(a.pos.x=-1),a.game.dPad(a.pos)}),$(document).keyup(function(b){var c=b.which;return(38==c||40==c)&&(a.pos.y=0),(39==c||37==c)&&(a.pos.x=0),a.game.dPad(a.pos)})}return{constructor:a,init:function(){return this._(b)()},_:function(a){var b=this;return function(){return a.apply(b,arguments)}}}}(),window.Keyboard=a}(),$(document).ready(function(){var a=new Game;a.init();var b=new Keyboard(a);b.init();var c=new Touch(a);c.init()}),function(){function a(a){this.game=a,this.dPad="none",this.pos={x:0,y:0},this.iPad=null!=navigator.userAgent.match(/iPad/i),this.iPhone=null!=navigator.userAgent.match(/iPhone/i),this.iPod=null!=navigator.userAgent.match(/iPod/i),this.android=null!=navigator.userAgent.match(/Android/i)}a.prototype=function(){function b(){return 1==this.iPad||1==this.iPhone||1==this.iPod||1==this.android?(this.build(),this.check()):void 0}function c(){var a=this;$("body").append('<div class="controls"></div>'),$(".controls").append('<div id="up"></div>'),$(".controls").append('<div id="right"></div>'),$(".controls").append('<div id="down"></div>'),$(".controls").append('<div id="left"></div>'),$("body").bind("touchstart",function(a){return a.preventDefault()}),$("#up").bind("touchstart, mousedown",function(){a.dPad="up",$(this).addClass("active")}).bind("touchend, mouseup",function(){a.dPad="none",$(".controls .active").removeClass("active")}),$("#right").bind("touchstart, mousedown",function(){a.dPad="right",$(this).addClass("active")}).bind("touchend, mouseup",function(){a.dPad="none",$(".controls .active").removeClass("active")}),$("#down").bind("touchstart, mousedown",function(){a.dPad="down",$(this).addClass("active")}).bind("touchend, mouseup",function(){a.dPad="none",$(".controls .active").removeClass("active")}),$("#left").bind("touchstart, mousedown",function(){a.dPad="left",$(this).addClass("active")}).bind("touchend, mouseup",function(){a.dPad="none",$(".controls .active").removeClass("active")})}function d(){switch(this.dPad){case"up":this.game.dPad("up");break;case"right":this.game.dPad("right");break;case"down":this.game.dPad("down");break;case"left":this.game.dPad("left")}var a=this;return setTimeout(function(){return a.check()},60)}return{constructor:a,init:function(){return this._(b)()},build:function(){return this._(c)()},check:function(){return this._(d)()},_:function(a){var b=this;return function(){return a.apply(b,arguments)}}}}(),window.Touch=a}();
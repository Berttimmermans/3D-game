!function(){function a(){}a.prototype.init=function(){},a.prototype.dPad=function(a){return this.controlDispatcher("dPad",a)},a.prototype.aButton=function(){return this.controlDispatcher("aButton")},a.prototype.aButtonDown=function(){return this.controlDispatcher("aButtonDown")},a.prototype.aButtonUp=function(){return this.controlDispatcher("aButtonUP")},a.prototype.bButton=function(){return this.controlDispatcher("bButton")},a.prototype.bButtonDown=function(){return this.controlDispatcher("bButtonDown")},a.prototype.bButtonUp=function(){return this.controlDispatcher("bButtonUp")},a.prototype.startButton=function(){return this.controlDispatcher("startButton")},a.prototype.selectButton=function(){return this.controlDispatcher("selectButton")},a.prototype.lButton=function(){return this.controlDispatcher("lButton")},a.prototype.rButton=function(){return this.controlDispatcher("rButton")},a.prototype.controlDispatcher=function(){},window.Game=a}(),function(){function a(a){this.game=a,this.dPad="none",this.keys={},this.aButton=0,this.bButton=0}a.prototype=function(){function b(){var a=this;$(document).keydown(function(b){a.keys[b.which]=!0;for(var c in a.keys)a.keys.hasOwnProperty(c)&&(65==c&&(a.game.aButtonDown(),a.aButton=a.aButton<8?a.aButton+1:8),90==c&&(a.game.bButtonDown(),a.bButton=a.bButton<8?a.bButton+1:8),38==c&&setTimeout(function(){return a.game.dPad("up")},1),39==c&&setTimeout(function(){return a.game.dPad("right")},1),40==c&&setTimeout(function(){return a.game.dPad("down")},1),37==c&&setTimeout(function(){return a.game.dPad("left")},1),17==c&&setTimeout(function(){return a.game.selectButton()},1),18==c&&setTimeout(function(){return a.game.startButton()},1),69==c&&setTimeout(function(){return a.game.lButton()},1),82==c&&setTimeout(function(){return a.game.rButton()},1))}),$(document).keyup(function(b){a.dPad="none";for(var c in a.keys)65==c&&(a.aButton<8&&a.game.aButton(),a.game.aButtonUp(),a.aButton=0),90==c&&(a.bButton<8&&a.game.bButton(),a.game.bButtonUp(),a.bButton=0);delete a.keys[b.which]})}return{constructor:a,init:function(){return this._(b)()},_:function(a){var b=this;return function(){return a.apply(b,arguments)}}}}(),window.Keyboard=a}(),$(document).ready(function(){var a=new Game;a.init();var b=new Keyboard(a);b.init();var c=new Touch(a);c.init()}),function(){function a(a){this.game=a,this.dPad="none",this.aButton=0,this.bButton=0,this.start=!1,this.select=!1,this.L=0,this.R=0,this.iPad=null!=navigator.userAgent.match(/iPad/i),this.iPhone=null!=navigator.userAgent.match(/iPhone/i),this.iPod=null!=navigator.userAgent.match(/iPod/i),this.android=null!=navigator.userAgent.match(/Android/i)}a.prototype=function(){function b(){return 1==this.iPad||1==this.iPhone||1==this.iPod||1==this.android?(this.build(),this.check()):void 0}function c(){var a=this;$("body").append('<div class="controls"></div>'),$(".controls").append('<div id="up"></div>'),$(".controls").append('<div id="right"></div>'),$(".controls").append('<div id="down"></div>'),$(".controls").append('<div id="left"></div>'),$(".controls").append('<div id="aButton">A</div>'),$(".controls").append('<div id="bButton">B</div>'),$(".controls").append('<div id="start">Start</div>'),$(".controls").append('<div id="select">Select</div>'),$(".controls").append('<div id="L">L</div>'),$(".controls").append('<div id="R">R</div>'),$("body").bind("touchstart",function(a){return a.preventDefault()}),$("#up").bind("touchstart",function(){a.dPad="up",$(this).addClass("active")}).bind("touchend",function(){a.dPad="none",$(".controls .active").removeClass("active")}),$("#right").bind("touchstart",function(){a.dPad="right",$(this).addClass("active")}).bind("touchend",function(){a.dPad="none",$(".controls .active").removeClass("active")}),$("#down").bind("touchstart",function(){a.dPad="down",$(this).addClass("active")}).bind("touchend",function(){a.dPad="none",$(".controls .active").removeClass("active")}),$("#left").bind("touchstart",function(){a.dPad="left",$(this).addClass("active")}).bind("touchend",function(){a.dPad="none",$(".controls .active").removeClass("active")}),$("#aButton").bind("touchstart",function(){$(this).addClass("active"),a.aButton=1}).bind("touchend",function(){a.aButton<8&&a.game.aButton(),a.game.aButtonUp(),a.aButton=0,$(".controls .active").removeClass("active")}),$("#bButton").bind("touchstart",function(){$(this).addClass("active"),a.bButton=1}).bind("touchend",function(){a.bButton<8&&a.game.bButton(),a.game.bButtonUp(),a.bButton=0,$(".controls .active").removeClass("active")}),$("#start").bind("touchstart",function(){a.start=!0,$(this).addClass("active")}).bind("touchend",function(){a.start=!1,$(".controls .active").removeClass("active"),a.game.startButton()}),$("#select").bind("touchstart",function(){a.select=!0,$(this).addClass("active")}).bind("touchend",function(){a.select=!1,$(".controls .active").removeClass("active"),a.game.selectButton()}),$("#L").bind("touchstart",function(){a.L=!0,$(this).addClass("active")}).bind("touchend",function(){a.L=!1,$(".controls .active").removeClass("active"),a.game.lButton()}),$("#R").bind("touchstart",function(){a.R=!0,$(this).addClass("active")}).bind("touchend",function(){a.R=!1,$(".controls .active").removeClass("active"),a.game.rButton()})}function d(){switch(this.aButton>0&&(this.game.aButtonDown(),this.aButton=this.aButton<8?this.aButton+1:8),this.bButton>0&&(this.game.bButtonDown(),this.bButton=this.bButton<8?this.bButton+1:8),this.dPad){case"up":this.game.dPad("up");break;case"right":this.game.dPad("right");break;case"down":this.game.dPad("down");break;case"left":this.game.dPad("left")}var a=this;return setTimeout(function(){return a.check()},60)}return{constructor:a,init:function(){return this._(b)()},build:function(){return this._(c)()},check:function(){return this._(d)()},_:function(a){var b=this;return function(){return a.apply(b,arguments)}}}}(),window.Touch=a}();